generate code in C# that Create a flexible and scalable payment gateway
integration solution that can easily accommodate new payment methods
and providers without requiring extensive code changes.

Things to consider in code

- Edge cases
- Input validation
- Exceptions
- Logging
- Security
- Performance: async, threading
- Ask about usage

Stream
- Resilience  via  Circuit breaker: protect against cascading failures
- Rate Limiting to prevent abuse